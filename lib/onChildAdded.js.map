{"version":3,"sources":["../src/onChildAdded.js"],"names":["onChildAdded","path","signal","options","data","context","controller","getSignal","Object","assign","key","value","val","payload"],"mappings":";;;;;kBAEwBA,Y;;AAFxB;;AAEe,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,MAA5B,EAAkD;AAAA;;AAAA,MAAdC,OAAc,uEAAJ,EAAI;;AAC/D,yBAAS,wBAAUF,IAAV,EAAgBE,OAAhB,CAAT,EAAmCF,IAAnC,EAAyC,aAAzC,EAAwDC,MAAxD,EAAgE,UAACE,IAAD,EAAU;AACxE,UAAKC,OAAL,CAAaC,UAAb,CAAwBC,SAAxB,CAAkCL,MAAlC,EACEM,OAAOC,MAAP,CACE;AACEC,WAAKN,KAAKM,GADZ;AAEEC,aAAOP,KAAKQ,GAAL;AAFT,KADF,EAKET,QAAQU,OAAR,IAAmB,EALrB,CADF;AASD,GAVD;AAWD","file":"onChildAdded.js","sourcesContent":["import { listenTo, createRef } from './helpers'\n\nexport default function onChildAdded(path, signal, options = {}) {\n  listenTo(createRef(path, options), path, 'child_added', signal, (data) => {\n    this.context.controller.getSignal(signal)(\n      Object.assign(\n        {\n          key: data.key,\n          value: data.val(),\n        },\n        options.payload || {}\n      )\n    )\n  })\n}\n"]}