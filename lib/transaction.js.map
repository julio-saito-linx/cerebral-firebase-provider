{"version":3,"sources":["../src/transaction.js"],"names":["transaction","path","transactionFunction","ref","then","result","committed","value","snapshot","val","catch","error","FirebaseProviderError"],"mappings":";;;;;kBAGwBA,W;;AAHxB;;AACA;;AAEe,SAASA,WAAT,CAAqBC,IAArB,EAA2BC,mBAA3B,EAAgD;AAC7D,MAAMC,MAAM,wBAAUF,IAAV,CAAZ;;AAEA,SAAOE,IACJH,WADI,CACQE,mBADR,EAEJE,IAFI,CAEC,UAACC,MAAD;AAAA,WAAa;AACjBC,iBAAWD,OAAOC,SADD;AAEjBC,aAAOF,OAAOG,QAAP,CAAgBC,GAAhB;AAFU,KAAb;AAAA,GAFD,EAMJC,KANI,CAME,UAACC,KAAD,EAAW;AAChB,UAAM,IAAIC,6BAAJ,CAA0BD,KAA1B,CAAN;AACD,GARI,CAAP;AASD","file":"transaction.js","sourcesContent":["import { createRef } from './helpers'\nimport { FirebaseProviderError } from './errors'\n\nexport default function transaction(path, transactionFunction) {\n  const ref = createRef(path)\n\n  return ref\n    .transaction(transactionFunction)\n    .then((result) => ({\n      committed: result.committed,\n      value: result.snapshot.val(),\n    }))\n    .catch((error) => {\n      throw new FirebaseProviderError(error)\n    })\n}\n"]}